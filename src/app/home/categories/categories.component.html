<div *ngIf="categories.length != 0; else spinner" class="categories">
  <div class="card leftmostcard" *ngIf="isLoggedIn()">
    <div style="display: flex; width: 100%">
      <img
        style="padding-right: 10px; margin: 0; width: 4rem; border-radius: 50%"
        src="https://www.amazon.com/avatar/default?customer_id=amzn1.account.AF7DL4IG6DDZ3PEZAHHIMGIC6VKQ&max_width=60&max_height=60&square=true"
        alt="img"
      />
      <p class="title">Hi, {{ name }}</p>
    </div>
    <p class="title" style="font-size: 0.9rem; margin-top: 1rem">
      Recommendations for you
    </p>
    <div
      style="
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        height: 100%;
      "
    >
      <div
        *ngFor="let x of recommendations"
        style="
          padding: 0.8rem 0.8rem 0;
          height: 49%;
          width: 49%;
          background-color: #f2fafb;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: space-between;
        "
      >
      <img
      [src]="x[1]"
      alt="img"
      style="width: 80%;height:50%;margin:0"
      />
      <p class="title" style="font-size: 10px;text-align: center;">{{ x[0] }}</p>
    </div>
    </div>
  </div>
  <div class="card" *ngFor="let x of categories | slice: 0:3">
    <p class="title">{{ x.title }}</p>
    <img [src]="x.imageUrl" alt="img" style="height: 80%; width: 100%" />
    <a class="link" routerLink="/">
      {{ x.descAvailable ? "See more" : "Shop now" }}
    </a>
  </div>
  <div *ngIf="!isLoggedIn()" class="column rightmostcard">
    <div
      class="card column"
      style="
        justify-content: space-around;
        height: 9rem;
        padding: 0px;
        margin: 0px;
        padding: 2rem 0;
      "
    >
      <p class="title" style="font-size: 1.2rem">
        Sign in for the best experience
      </p>
      <button routerLink="signin" class="btn">Sign in securely</button>
    </div>
    <img
      alt="img"
      style="width: 82%; height: 14.5rem"
      src="https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/October/Fuji_D2_45M_en_US_1x._CB418309979_.jpg"
    />
  </div>
  <div class="card" *ngFor="let x of categories | slice: 3:categories.length">
    <p class="title">{{ x.title }}</p>
    <img [src]="x.imageUrl" alt="img" style="height: 80%; width: 100%" />
    <a class="link" routerLink="/">
      {{ x.descAvailable ? "See more" : "Shop now" }}
    </a>
  </div>
</div>
<ng-template #spinner>
  <div class="row" style="height: 20vh">
    <mat-spinner diameter="30"></mat-spinner>
  </div>
  <div style="height: 50vh"></div>
</ng-template>
